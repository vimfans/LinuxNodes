### Disk Management
   通过学习磁盘管理这章内容，了解到了很多与磁盘相关的知识. 这篇博客，用来梳理一下学习到的知识。  
   首先，让我觉得很有意思的知识，是硬盘的工作原理。自己接触电脑，已经十多年了，对于硬盘、内存、显示器、显卡等这些基本配件各自都是做什么的，自己一点也不觉得陌生。  
   但是，对于硬盘内部是怎么样运行的、固态硬盘、机械硬盘的一些特性、优缺点，自己没有研究过。正是因为不懂，自己才会觉得有意思.  
####  fundamental of Disk
在学习磁盘管理时，经常看到HDD、SSD这些东西。HDD,全称为Hard Disk Drive. SSD,全称为Solid State Disk. 首先来谈一下，HDD。  

> 一直不理解，Hard Disk 是硬盘的意思，但是为什么大家谈到硬盘要用Hard Disk Drive呢？这就要从硬盘的工作原理开始谈起了。最开始，程序员是把代码、数据存储在磁带上的(tape)。对，就是我们熟悉的用来听歌的磁带。 回想起，用磁带听歌的美好时光，当时想听回放，就要按下回退键，然后再播放。从这里，就可以发现磁带访问的局限性----只能顺序读取。慢慢的，软盘(floppy disk)的出现弥补了，磁带的顺序读取的局限性。但是,软盘的存储空间不大，有时为了存储程序、数据，需要好多张软盘。再往后，就出现了硬盘的概念。下图展示的是一个硬盘主要的部件:  
 ![HDD](assets/hard-disk.png?row=true)  
从上图我们可以看到，硬盘如果想正常工作，是需要其他部件来协同合作的。从硬盘中读取数据的方式，是通过旋转磁盘，由磁头来读取磁盘中的数据。一个硬盘，由多张磁盘叠加起来，每一层正反面都会有一个磁头来读取数据。最开始，硬盘与这些移动部件是分离的，后来慢慢的把他们组合在了一起，所以Hard Disk Drive 用来指硬盘+移动部件。


***SSD***(Solid-State-Disk)   
> 固态硬盘:顾名思义，是不需要移动部分的部件,就可以存储、读取数据。因为没有了移动部分的部件，它在体积上要比HDD小。而且，在读写数据时，不会出现噪音。(HDD的工作原理，是需要转动硬盘，所以，有时会出现噪音)。
![固态硬盘](assets/solid-state-disk-back.png?row=true)
![固态硬盘](assets/solid-state-disk-front.png?row=true)  
  
    


####磁盘分区
磁盘分区不是必须的，我们不分区，依然可以使用电脑，可以安装操作系统、可以存储数据。我的Ubuntu系统就没有分区，所以的数据都存放在一个1000G的硬盘上。但是，分区对电脑有很多好处。总结如下:  
***1.重装操作系统时，可以保留我们的个人数据。***  
> 将操作系统装在一个分区内，个人数据装在另一个分区内。当需要重装操作系统时,我们只需要将存放操作系统的分区格式化、重新装一遍操作系统，我们的个人数据完好无损。

***2.防止硬盘内存用尽，导致系统宕机。***  
>例如，我们不进行分区，当日志文件没有按时进行归档、清理时，有可能会超过硬盘的容量。当硬盘没有足够多的容量时，系统就会宕机。但是，如果我们把日志文件或者临时文件，存储在一个分区、把操作系统存在另一个分区。此时，如果日志文件或者临时文件过大，只会影响所在分区，而不会影响到操作系统。  

***3.安装双系统***  
> 我们可以多个操作系统安装在不同的分区内，这样我们就可以通过BIOS来启动不同的操作系统。


自己的Ubuntu之所以没有分区，是因为当时不懂分区的好处，也不会在Linux系统下分区。最近准备重新分区，将个人数据存储在独立的分区下，等自己想要换Fedora时，可以保留自己的软件配置，例如.vimrc文件。(自己的最爱)  

从上面的例子中，不难发现，每一个独立的分区，相当于一整块硬盘，彼此之间互不干扰。那么Linux是如何实现分区的呢？  
*** Partition Table***  
> Linux系统，通过分区表，来实现磁盘的分区。  
> ![Linux 分区表](assets/partition_table.png?row=true)  
分区表分为两类：MBR(master boot record), GUID partition table(GPT). MBR比较老，一般用于BIOS的电脑，而GPT比较常用，GPT是UEFI(Unifed extensible firmware interface)的一般分。
>
***MBR 与 GPT的区别:***  
MBR最多只能分为4个主分区，可以通过扩展分区，来创建逻辑分区。如下图:  
![逻辑分区](assets/logical_partition.png?row=true)  
我们可以通过下面的命令，来查看我们的分区表：
``` bash
sudo parted -l  
sudo fdisk -l
```
![分区表](assets/parted_result_cmd.png?row=true)
从图中可以看出，一个500G的硬盘被分为了3个分区。



